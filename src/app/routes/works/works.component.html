<mat-tab-group
  mat-align-tabs="center"
  color="primary"
  (selectedTabChange)="tabSelectedTabChange($event)"
  *ngIf="caseCategories$ | async as caseCategories"
>
  <ng-container *ngFor="let caseCategory of caseCategories">
    <mat-tab label="{{ caseCategory.fields.category.toUpperCase() }}">
      <ng-template matTabContent *ngTemplateOutlet="caseList"> </ng-template>
    </mat-tab>
  </ng-container>
</mat-tab-group>

<ng-template #caseList>
  <ng-container *ngIf="cases$ | async as cases">
    <div class="has-text-centered is-clipped">
      <ul class="columns is-multiline is-vcentered is-mobile">
        <ng-container *ngFor="let case of cases">
          <li class="column is-3-desktop is-6-touch">
            <p
              class="point content is-size-5 is-size-6-touch is-family-sans-serif"
              (click)="openDialog(case.sys.id)"
            >
              {{ case.fields.title }}
            </p>
            <p class="content is-size-6 is-size-7-touch is-family-sans-serif">
              {{ case.fields.description }}
            </p>
            <ng-container
              *ngFor="let image of case.fields.images; let first = first"
            >
              <img
                *ngIf="first"
                src="{{ image.fields.file.url }}"
                alt="case image"
                class="point"
                (click)="openDialog(case.sys.id)"
              />
            </ng-container>
          </li>
        </ng-container>
      </ul>
    </div>
  </ng-container>
</ng-template>
